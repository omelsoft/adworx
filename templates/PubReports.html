
<div class="row filters">
  <div class="clear"></div> 
  <div class="sites-filter input-group-btn">
    <span class="filter-label">Site Property:</span>
    <input type="hidden" ng-model="filter.siteId" value="{{siteId}}">
    <button type="button" class="sites-filter-selected btn btn-default" ng-model="filter.site">{{ filter.site }}</button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li><a href="" ng-click="filterBySite()">All Sites</a></li>
      <li class="divider"></li>    
      <li ng-repeat="site in filters.sites">
        <a href="" data-id="{{site['id']}}" ng-click="filterBySite($index, site['id'])">{{site['siteName']}}</a>
      </li>
    </ul>
  </div><!-- /.site-filter -->   
  <div class="partners-filter input-group-btn" ng-show="filter.filteredSite == true">
    <span class="filter-label">Demand Partner:</span>
    <input type="hidden" ng-model="filter.partnerId" value="{{partnerId}}">
    <button type="button" class="partners-filter-selected btn btn-default" ng-model="filter.partner">{{ filter.partner }}</button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span>
    </button>
    <ul class="dropdown-menu">
      <li><a href="" ng-click="filterByPartner()">All Partners</a></li>
      <li class="divider"></li>
      <li ng-repeat="partner in filters.partners">
        <a href="" data-id="{{partner['id']}}" ng-click="filterByPartner($index, partner['id'])">{{partner['name']}}</a>
      </li>
    </ul>
  </div><!-- /.partners-filter -->  
  <div class="placement-filter input-group-btn" ng-show="filter.filteredPartner == true">
    <span class="filter-label">Placement:</span>
    <input type="hidden" ng-model="filter.placementId" value="{{placementId}}">
    <button type="button" class="placement-filter-selected btn btn-default" ng-model="filter.placement">{{ filter.placement }}</button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span>
    </button>
    <ul class="dropdown-menu">  
      <li ng-repeat="placement in filter.placementFiltered">
        <a href="" ng-click="filterByPlacement(placement)">{{placement['placementName']}}</a>
      </li>
    </ul>
  </div><!-- /.placements-filter -->     
  <div class="metric-filter input-group-btn">
    <span class="filter-label">Metric:</span>
    <button type="button" class="metric-filter-selected btn btn-default" ng-model="filter.range">{{ metric }}</button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span>
    </button>
    <ul class="dropdown-menu">  
      <li ng-repeat="metric in metrics">
        <a href="" data-range="{{$index}}" ng-click="filterByMetric(metric)">{{ metric }}</a>
      </li>
    </ul>
  </div><!-- /.metric-filter -->  
  <div class="range-filter input-group-btn">
    <span class="filter-label">Range:</span>
    <button type="button" class="placement-filter-selected btn btn-default" ng-model="filter.range">{{ filter.range ? filter.range : 'Last 30 Days'; }}</button>
    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="caret"></span>
    </button>
    <ul class="dropdown-menu">  
      <li ng-repeat="range in filter.ranges">
        <a href="" data-range="{{$index}}" ng-click="filterByRange(range, filter.start, filter.end)">{{ range }}</a>
      </li>
    </ul>  
  </div><!-- /.range-filter -->
  <div ng-show="filter.range == 'Custom'" class="datepicker input-group-btn" id="datepicker-container">
    <span class="filter-label">Date Range:</span>
    <div class="input-daterange input-group" id="datepicker">
      <input type="text" class="input-md form-control" name="start" ng-model="custom.start" value="{{custom.start}}"/>
      <span class="input-group-addon">to</span>
      <input type="text" class="input-md form-control" name="end" ng-model="custom.end" value="{{custom.end}}"/>
      <div class="input-group-btn">
        <button ng-click="applyCustomDate(custom)" type="button" class="btn btn-default">Apply</button>
      </div>
    </div>
  <script type="text/javascript">
    $('#datepicker-container .input-daterange').datepicker({
        orientation: "auto left",
        todayHighlight: true,
        toggleActive: true,
        format: 'yyyy-mm-dd'      
    });
  </script>    
  </div>
  <!--/ #datepicker -->  
</div>
<div id="main-chart" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
<div class="clear"></div>
<div class="row"> 
  <div class="btn-group btn-group-justified" role="group" aria-label="...">
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default"><b>Total Impressions Served:</b> <br/>{{overall.impressions | number}}</button>
  </div>
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default"><b>Total Revenue:</b> <br/>{{overall.revenue | currency:"$ "}}</button>
  </div>
  <div class="btn-group" role="group">
    <button type="button" class="btn btn-default"><b>Average eCPM:</b> <br/>{{overall.ecpm | currency:"$ "}}</button>
  </div>
</div>
</div>